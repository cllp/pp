/*! nanoScrollerJS - v0.8.0 - 2014
* http://jamesflorentino.github.com/nanoScrollerJS/
* Copyright (c) 2014 James Florentino; Licensed MIT */
(function(n,t,i){"use strict";var l,u,o,s,a,st,ht,v,y,p,f,w,nt,h,r,ct,b,e,tt,k,it,rt,ut,ft,d,g,et,ot,c;it={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null};ct="scrollbar";r="scroll";v="mousedown";y="mousemove";f="mousewheel";p="mouseup";h="resize";a="drag";e="up";nt="panedown";o="DOMMouseScroll";s="down";tt="wheel";st="keydown";ht="keyup";b="touchmove";l=t.navigator.appName==="Microsoft Internet Explorer"&&/msie 7./i.test(t.navigator.appVersion)&&t.ActiveXObject;u=null;d=t.requestAnimationFrame;k=t.cancelAnimationFrame;et=i.createElement("div").style;c=function(){var n,r,f,t,i,u;for(t=["t","webkitT","MozT","msT","OT"],n=i=0,u=t.length;i<u;n=++i)if(f=t[n],r=t[n]+"ransform",r in et)return t[n].substr(0,t[n].length-1);return!1}();ot=function(n){return c===!1?!1:c===""?n:c+n.charAt(0).toUpperCase()+n.substr(1)};g=ot("transform");ut=g!==!1;rt=function(){var n,t,u;return n=i.createElement("div"),t=n.style,t.position="absolute",t.width="100px",t.height="100px",t.overflow=r,t.top="-9999px",i.body.appendChild(n),u=n.offsetWidth-n.clientWidth,i.body.removeChild(n),u};ft=function(){var i,r,n;return(r=t.navigator.userAgent,i=/(?=.+Mac OS X)(?=.+Firefox)/.test(r),!i)?!1:(n=/Firefox\/\d{2}\./.exec(r),n&&(n=n[0].replace(/\D+/g,"")),i&&+n>23)};w=function(){function c(r,f){this.el=r;this.options=f;u||(u=rt());this.$el=n(this.el);this.doc=n(this.options.documentContext||i);this.win=n(this.options.windowContext||t);this.$content=this.$el.children("."+f.contentClass);this.$content.attr("tabindex",this.options.tabIndex||0);this.content=this.$content[0];this.previousPosition=0;this.options.iOSNativeScrolling&&this.el.style.WebkitOverflowScrolling!=null?this.nativeScrolling():this.generate();this.createEvents();this.addEvents();this.reset()}return c.prototype.preventScrolling=function(n,t){if(this.isActive)if(n.type===o)(t===s&&n.originalEvent.detail>0||t===e&&n.originalEvent.detail<0)&&n.preventDefault();else if(n.type===f){if(!n.originalEvent||!n.originalEvent.wheelDelta)return;(t===s&&n.originalEvent.wheelDelta<0||t===e&&n.originalEvent.wheelDelta>0)&&n.preventDefault()}},c.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"});this.iOSNativeScrolling=!0;this.isActive=!0},c.prototype.updateScrollValues=function(){var n,t;n=this.content;this.maxScrollTop=n.scrollHeight-n.clientHeight;this.prevScrollTop=this.contentScrollTop||0;this.contentScrollTop=n.scrollTop;t=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same";this.previousPosition=this.contentScrollTop;t!=="same"&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:t});this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=this.maxScrollTop===0?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},c.prototype.setOnScrollStyles=function(){var n;ut?(n={},n[g]="translate(0, "+this.sliderTop+"px)"):n={top:this.sliderTop};d?this.scrollRAF||(this.scrollRAF=d(function(t){return function(){t.scrollRAF=null;t.slider.css(n)}}(this))):this.slider.css(n)},c.prototype.createEvents=function(){this.events={down:function(n){return function(t){return n.isBeingDragged=!0,n.offsetY=t.pageY-n.slider.offset().top,n.pane.addClass("active"),n.doc.bind(y,n.events[a]).bind(p,n.events[e]),!1}}(this),drag:function(n){return function(t){return n.sliderY=t.pageY-n.$el.offset().top-n.offsetY,n.scroll(),n.contentScrollTop>=n.maxScrollTop&&n.prevScrollTop!==n.maxScrollTop?n.$el.trigger("scrollend"):n.contentScrollTop===0&&n.prevScrollTop!==0&&n.$el.trigger("scrolltop"),!1}}(this),up:function(n){return function(){return n.isBeingDragged=!1,n.pane.removeClass("active"),n.doc.unbind(y,n.events[a]).unbind(p,n.events[e]),!1}}(this),resize:function(n){return function(){n.reset()}}(this),panedown:function(n){return function(t){return n.sliderY=(t.offsetY||t.originalEvent.layerY)-n.sliderHeight*.5,n.scroll(),n.events.down(t),!1}}(this),scroll:function(n){return function(t){(n.updateScrollValues(),n.isBeingDragged)||(n.iOSNativeScrolling||(n.sliderY=n.sliderTop,n.setOnScrollStyles()),t!=null)&&(n.contentScrollTop>=n.maxScrollTop?(n.options.preventPageScrolling&&n.preventScrolling(t,s),n.prevScrollTop!==n.maxScrollTop&&n.$el.trigger("scrollend")):n.contentScrollTop===0&&(n.options.preventPageScrolling&&n.preventScrolling(t,e),n.prevScrollTop!==0&&n.$el.trigger("scrolltop")))}}(this),wheel:function(n){return function(t){var i;if(t!=null)return i=t.delta||t.wheelDelta||t.originalEvent&&t.originalEvent.wheelDelta||-t.detail||t.originalEvent&&-t.originalEvent.detail,i&&(n.sliderY+=-i/3),n.scroll(),!1}}(this)}},c.prototype.addEvents=function(){var n;this.removeEvents();n=this.events;this.options.disableResize||this.win.bind(h,n[h]);this.iOSNativeScrolling||(this.slider.bind(v,n[s]),this.pane.bind(v,n[nt]).bind(""+f+" "+o,n[tt]));this.$content.bind(""+r+" "+f+" "+o+" "+b,n[r])},c.prototype.removeEvents=function(){var n;n=this.events;this.win.unbind(h,n[h]);this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind());this.$content.unbind(""+r+" "+f+" "+o+" "+b,n[r])},c.prototype.generate=function(){var o,f,e,n,i,r;return n=this.options,i=n.paneClass,r=n.sliderClass,o=n.contentClass,this.$el.find("."+i).length||this.$el.find("."+r).length||this.$el.append('<div class="'+i+'"><div class="'+r+'" /><\/div>'),this.pane=this.$el.children("."+i),this.slider=this.pane.find("."+r),u===0&&ft()&&(e=t.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/\D+/g,""),f={right:-14,paddingRight:+e+14},this.$el.addClass("has-scrollbar")),f!=null&&this.$content.css(f),this},c.prototype.restore=function(){this.stopped=!1;this.iOSNativeScrolling||this.pane.show();this.addEvents()},c.prototype.reset=function(){var n,o,s,h,f,v,c,i,y,e,a,t;if(this.iOSNativeScrolling){this.contentHeight=this.content.scrollHeight;return}return this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),n=this.content,h=n.style,f=h.overflowY,l&&this.$content.css({height:this.$content.height()}),o=n.scrollHeight+u,e=parseInt(this.$el.css("max-height"),10),e>0&&(this.$el.height(""),this.$el.height(n.scrollHeight>e?e:n.scrollHeight)),c=this.pane.outerHeight(!1),y=parseInt(this.pane.css("top"),10),v=parseInt(this.pane.css("bottom"),10),i=c+y+v,t=Math.round(i/o*i),t<this.options.sliderMinHeight?t=this.options.sliderMinHeight:this.options.sliderMaxHeight!=null&&t>this.options.sliderMaxHeight&&(t=this.options.sliderMaxHeight),f===r&&h.overflowX!==r&&(t+=u),this.maxSliderTop=i-t,this.contentHeight=o,this.paneHeight=c,this.paneOuterHeight=i,this.sliderHeight=t,this.slider.height(t),this.events.scroll(),this.pane.show(),this.isActive=!0,n.scrollHeight===n.clientHeight||this.pane.outerHeight(!0)>=n.scrollHeight&&f!==r?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===n.scrollHeight&&f===r?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),s=this.$content.css("position"),(s==="static"||s==="relative")&&(a=parseInt(this.$content.css("right"),10),a&&this.$content.css({right:"",marginRight:a})),this},c.prototype.scroll=function(){if(this.isActive)return this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop((this.paneHeight-this.contentHeight+u)*this.sliderY/this.maxSliderTop*-1),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this},c.prototype.scrollBottom=function(n){if(this.isActive)return this.$content.scrollTop(this.contentHeight-this.$content.height()-n).trigger(f),this.stop().restore(),this},c.prototype.scrollTop=function(n){if(this.isActive)return this.$content.scrollTop(+n).trigger(f),this.stop().restore(),this},c.prototype.scrollTo=function(n){if(this.isActive)return this.scrollTop(this.$el.find(n).get(0).offsetTop),this},c.prototype.stop=function(){return k&&this.scrollRAF&&(k(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},c.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),l&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},c.prototype.flash=function(){if(!this.iOSNativeScrolling)return this.isActive?(this.reset(),this.pane.addClass("flashed"),setTimeout(function(n){return function(){n.pane.removeClass("flashed")}}(this),this.options.flashDelay),this):void 0},c}();n.fn.nanoScroller=function(t){return this.each(function(){var r,i;if((i=this.nanoscroller)||(r=n.extend({},it,t),this.nanoscroller=i=new w(this,r)),t&&typeof t=="object"){if(n.extend(i.options,t),t.scrollBottom!=null)return i.scrollBottom(t.scrollBottom);if(t.scrollTop!=null)return i.scrollTop(t.scrollTop);if(t.scrollTo)return i.scrollTo(t.scrollTo);if(t.scroll==="bottom")return i.scrollBottom(0);if(t.scroll==="top")return i.scrollTop(0);if(t.scroll&&t.scroll instanceof n)return i.scrollTo(t.scroll);if(t.stop)return i.stop();if(t.destroy)return i.destroy();if(t.flash)return i.flash()}return i.reset()})};n.fn.nanoScroller.Constructor=w})(jQuery,window,document);
/*
//# sourceMappingURL=jquery.nanoscroller.min.js.map
*/